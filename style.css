/* Clean, responsive stylesheet for Go to Class - Logic Game */
/* Base reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Make percent heights work */
html, body {
    height: 100%;
}

/* Base font-size (adjusted in media queries) */
html { font-size: 16px; }

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f5f5;
    padding: 1.25rem; /* 20px */
}

.container {
    max-width: 900px;
    width: 65%;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    height: 95vh;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    overflow: hidden;
}

/* Header Section */
.header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-bottom: 2px solid #333;
    padding: 1.25rem; /* 20px */
    color: white;
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 1.25rem;
    font-weight: bold;
}

.score-display {
    font-size: 1rem;
    background-color: rgba(255, 255, 255, 0.2);
    padding: 0.5rem 1rem;
    border-radius: 6px;
}

/* Main Game Screen */
.game-screen {
    flex: 1 1 auto;
    border-bottom: 2px solid #333;
    padding: clamp(1rem, 3.5vw, 3.5rem);
    overflow: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #fafafa;
}

/* Game Board Grid */
.game-board {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 0.625rem; /* 10px */
    width: min(550px, 45%);
    aspect-ratio: 1;
}

.grid-cell {
    border: 2px solid #ddd;
    border-radius: 8px;
    background-color: white;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    aspect-ratio: 1;
    transition: background-color 0.2s;
}

.grid-cell:hover { background-color: #f0f0f0; }
.grid-cell.obstacle { background-color: #e0e0e0; border-color: #999; }

/* Student Character (centered within its cell) */
.student {
    width: 2.5rem; /* 40px */
    height: 2.5rem;
    background-color: #667eea;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.25rem;
    font-weight: bold;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
    animation: pulse 0.6s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 2px 8px rgba(102,126,234,0.4); }
    50%     { transform: translate(-50%, -50%) scale(1.07); box-shadow: 0 4px 12px rgba(102,126,234,0.6); }
}

.student.up::after { content: '↑'; }
.student.down::after { content: '↓'; }
.student.left::after { content: '←'; }
.student.right::after { content: '→'; }

/* Destination - Classroom */
.classroom {
    font-size: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: glow 1s ease-in-out infinite;
}
@keyframes glow { 0%,100%{ filter: drop-shadow(0 0 4px rgba(255,193,7,0.4)); } 50%{ filter: drop-shadow(0 0 12px rgba(255,193,7,0.8)); } }

/* Bottom Section Container */
.bottom-section {
    display: grid;
    grid-template-columns: 1fr 1fr;
    flex: 0 0 35vh;
    height: 35vh;
    border-top: 2px solid #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    overflow: hidden;
}

/* Program Section */
.program-section { border-right: 2px solid #333; padding: 1rem; display:flex; flex-direction:column; background-color:transparent; height:100%; overflow:hidden; }
.program-title { font-size: 1rem; font-weight: bold; margin-bottom: 0.5rem; color: white; }
.program-box { border:2px solid #ddd; flex:1; padding:1rem; background:white; overflow:auto; border-radius:4px; font-family:'Courier New', monospace; font-size:0.9rem; line-height:1.6; color:#333; min-height:0; }

/* Drop Zone */
#programDropZone { border:3px dashed #667eea; flex:1; padding:1rem; padding-bottom:4rem; background:#f8f9ff; overflow-y:auto; overflow-x:hidden; border-radius:4px; display:flex; flex-direction:column; gap:0.5rem; min-height:12rem; }
#programDropZone.dragover { background-color:#e8eaff; border-color:#764ba2; }
.drop-zone-placeholder { color:#999; text-align:center; padding:2.5rem 1.25rem; font-style:italic; }
.placed-block { padding:0.75rem 1rem; background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:white; border-radius:6px; display:flex; justify-content:space-between; align-items:center; gap:0.6rem; box-shadow:0 2px 8px rgba(102,126,234,0.3); }
.placed-block .remove-btn { background:rgba(255,255,255,0.3); border:none; color:white; padding:0.25rem 0.5rem; border-radius:4px; cursor:pointer; font-size:0.85rem; font-weight:bold; }

/* Draggable Command Blocks */
.available-commands { display:flex; flex-direction:column; gap:0.5rem; }
.command-block { padding:0.75rem 1rem; background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:white; border-radius:6px; cursor:grab; font-weight:bold; font-size:0.875rem; box-shadow:0 2px 8px rgba(102,126,234,0.3); }
.command-block:hover { transform: translateY(-0.125rem); box-shadow:0 4px 12px rgba(102,126,234,0.4); }

/* Repeat Block Styles */
.repeat-block { display:flex; flex-direction:column; background:linear-gradient(135deg,#9c6ba2 0%,#7c4ba0 100%); padding:0; gap:0; }
.repeat-header { padding:0.75rem 1rem; display:flex; justify-content:space-between; align-items:center; gap:0.5rem; background:inherit; border-radius:6px 6px 0 0; }
.repeat-header .remove-btn { background:rgba(255,255,255,0.3); border:none; color:white; padding:0.25rem 0.5rem; border-radius:4px; cursor:pointer; font-size:0.85rem; font-weight:bold; }
.repeat-count { width:2.5rem; padding:0.25rem; border:none; border-radius:3px; font-weight:bold; text-align:center; }
.repeat-children { display:flex; flex-direction:column; gap:0.5rem; padding:1rem; background-color:#f0e8f8; border-radius:0 0 6px 6px; min-height:4rem; border-top:2px dashed #667eea; }
.repeat-children.dragover { background-color:#e0d0f0; border-color:#764ba2; }
.repeat-brace { padding:0 1rem; color:white; font-size:1.125rem; font-weight:bold; line-height:1; }

/* Condition Block Styles (match repeat behavior for drop targets) */
.condition-block { display:flex; flex-direction:column; background:linear-gradient(135deg,#4aa3a3 0%,#3a8c8c 100%); padding:0; gap:0; }
.condition-header { padding:0.75rem 1rem; display:flex; justify-content:space-between; align-items:center; gap:0.5rem; background:inherit; border-radius:6px 6px 0 0; }
.condition-header .remove-btn { background:rgba(255,255,255,0.3); border:none; color:white; padding:0.25rem 0.5rem; border-radius:4px; cursor:pointer; font-size:0.85rem; font-weight:bold; }
.condition-children { display:flex; flex-direction:column; gap:0.5rem; padding:1rem; background-color:#e8f7f7; border-radius:0 0 6px 6px; min-height:4rem; border-top:2px dashed #3a8c8c; }
.condition-children.dragover { background-color:#d0eef0; border-color:#2f7b7b; }

/* Commands Section */
.commands-section { padding:1rem; display:flex; flex-direction:column; background-color:transparent; height:100%; overflow:hidden; }
.commands-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:0.5rem; gap:1rem; }
.commands-title { font-size:1rem; font-weight:bold; color:white; }
.mode-selector { display:flex; align-items:center; gap:0.5rem; }
.mode-selector label { color:white; font-weight:bold; font-size:0.875rem; }
.mode-selector select { padding:0.4rem 0.6rem; border-radius:4px; border:1px solid #ddd; font-size:0.9rem; }
.commands-box { border:2px solid #ddd; flex:1; padding:1rem; background:white; overflow:auto; border-radius:4px; display:flex; flex-direction:column; gap:0.5rem; min-height:0; }
.command-button { padding:0.6rem 0.9rem; background-color:#667eea; color:white; border:none; border-radius:4px; cursor:pointer; font-weight:bold; font-size:0.85rem; }

.command-list { font-family:'Courier New', monospace; font-size:0.9rem; line-height:1.5; color:#555; flex:1; overflow:auto; }
.command-item { padding:0.25rem 0; color:#764ba2; }

/* Responsive font-size adjustments to scale everything proportionally */
/* FHD Laptops and larger (1920px+) - fit to screen without scrolling */
@media ( max-width: 1921px) {
    html { font-size: 16px; }
    .container { height: 95vh; overflow: hidden; width: 50%; }
    .header { flex-shrink: 0; }
    .game-screen { flex: 1; }
    .bottom-section { flex-shrink: 0; height: 35vh; overflow: hidden; }
    .program-section { min-height: 0; height: 100%; overflow: hidden; }
    .commands-section { min-height: 0; height: 100%; overflow: hidden; }
    
    /* Shrink bottom section content proportionally */
    .command-button { padding: 0.45rem 0.7rem; font-size: 0.75rem; }
    .command-block { padding: 0.6rem 0.8rem; font-size: 0.75rem; }
    .placed-block { padding: 0.6rem 0.8rem; font-size: 0.75rem; gap: 0.4rem; }
    .available-commands { gap: 0.4rem; }
    .commands-box { padding: 0.8rem; gap: 0.4rem; }
    .program-box { padding: 0.8rem; font-size: 0.8rem; }
    .command-list { font-size: 0.8rem; }
    .repeat-header { padding: 0.6rem 0.8rem; gap: 0.4rem; }
    .repeat-children { padding: 0.8rem; gap: 0.4rem; }
}
@media (max-width: 1366px) {
    html { font-size: 15px; }
    .bottom-section { height: 35vh; }
    .container { height: 95vh; overflow: hidden; }
}
@media (max-width: 1280px) {
    html { font-size: 14px; }
}
@media (max-width: 1024px) {
    html { font-size: 13px; }
    .game-board { width: min(420px, 55%); }
    .bottom-section { height: 40vh; }
    .game-screen { padding: clamp(0.75rem, 3vw, 2rem); }
    .container { height: 95vh; overflow: hidden; width: 75%;}
}
@media (max-width: 768px) {
    .bottom-section { grid-template-columns: 1fr; height: 45vh; }
    .game-board { width: min(360px, 80%); }
    .container { width: 90%; height: 95vh; overflow: hidden; }
}

/* Small devices */
@media (max-width: 480px) {
    html { font-size: 12px; }
    .game-board { width: min(320px, 90%); }
    body { padding: 0.75rem; }
    .container { width: 100%; height: 95vh; overflow: hidden; }
    .bottom-section { height: 50vh; }
}
